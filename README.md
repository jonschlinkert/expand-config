# expand-config [![NPM version](https://badge.fury.io/js/expand-config.svg)](http://badge.fury.io/js/expand-config)

> Normalize tasks, targets and options in a declarative configuraiton.

## TOC

<!-- toc -->

* [Usage](#usage)
  - [Config examples](#config-examples)
  - [options.expand](#optionsexpand)
* [API](#api)
* [Author](#author)
* [License](#license)

_(Table of contents generated by [verb])_

<!-- tocstop -->

Install with [npm](https://www.npmjs.com/)

```sh
$ npm i expand-config --save
```

## Usage

```js
var config = require('expand-config');
console.log(config({files: {'dist/': '*.js'}}));
```

### Config examples

All of these:

```js
{files: {'dist/': '*.js'}}
{files: [{src: '*.js', dest: 'dist/'}]}
{src: '*.js', dest: 'dist/'}
{src: ['*.js'], dest: 'dist/'}
```

Would normalize to:

```js
{files: [{src: ['index.js'], dest: 'dist/'}]}
```

All of the following:

```js
var config = require('expand-config')({
  options: {
    expand: true,
    cwd: 'test/fixtures'
  },
  files: {
    'dist/a/': ['a/*.js'],
    'dist/b/': ['b/*.js']
  }
});

config({
  options: {
    expand: true,
    cwd: 'test/fixtures'
  },
  files: [
    {dest: 'dist/a/', src: ['a/*.js']},
    {dest: 'dist/b/', src: ['b/*.js']}
  ]
});

config({
  options: {
    cwd: 'test/fixtures'
  },
  files: [
    {expand: true, dest: 'dist/a/', src: ['a/*.js']},
    {expand: true, dest: 'dist/b/', src: ['b/*.js']}
  ]
});

config({
  options: {
    cwd: 'test/fixtures'
  },
  files: [
    {options: {expand: true}, dest: 'dist/a/', src: ['a/*.js']},
    {options: {expand: true}, dest: 'dist/b/', src: ['b/*.js']}
  ]
});

console.log(config);
```

Would normalize to the following (see the [test fixtures](./test/fixtures)):

```js
{ files:
   [ { src: [ 'a/x.js' ],
       dest: 'dist/a/a/x.js',
       orig:
        { options: { expand: true, cwd: 'test/fixtures' },
          src: [ 'a/*.js' ],
          dest: 'dist/a/' } },
     { src: [ 'a/y.js' ],
       dest: 'dist/a/a/y.js',
       orig:
        { options: { expand: true, cwd: 'test/fixtures' },
          src: [ 'a/*.js' ],
          dest: 'dist/a/' } },
     { src: [ 'b/x.js' ],
       dest: 'dist/b/b/x.js',
       orig:
        { options: { expand: true, cwd: 'test/fixtures' },
          src: [ 'b/*.js' ],
          dest: 'dist/b/' } },
     { src: [ 'b/y.js' ],
       dest: 'dist/b/b/y.js',
       orig:
        { options: { expand: true, cwd: 'test/fixtures' },
          src: [ 'b/*.js' ],
          dest: 'dist/b/' } },
     { src: [ 'b/z.js' ],
       dest: 'dist/b/b/z.js',
       orig:
        { options: { expand: true, cwd: 'test/fixtures' },
          src: [ 'b/*.js' ],
          dest: 'dist/b/' } } ] }
```

### options.expand

Dynamically generate destination paths by defining `:params` that describe the structure paths should use:

**Example:**

```js
config({
  options: {
    expand: ':dirname/:name.min.js'
  },
  src: ['*.js'],
  dest: 'scripts/'
});
```

## API

## Author

**Jon Schlinkert**

+ [github/jonschlinkert](https://github.com/jonschlinkert)
+ [twitter/jonschlinkert](http://twitter.com/jonschlinkert)

## License

Copyright Â© 2014-2015 Jon Schlinkert
Released under the MIT license.

***

_This file was generated by [verb-cli](https://github.com/assemble/verb-cli) on August 25, 2015._
